<!doctypehtml>
<head>
    <title>DD Games - beta</title>
</head>
<style>
    /* Make the background gradient move in a loop */
    body {
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      background: linear-gradient(270deg, #89f7fe, #66a6ff, #f6d365, #fda085);
      background-size: 800% 800%;
      animation: gradientMove 12s ease infinite;
      font-family: Arial, sans-serif;
      color: white;
    }

    /* Animate the gradient smoothly */
    @keyframes gradientMove {
      0% {
        background-position: 0% 50%;
      }
      50% {
        background-position: 100% 50%;
      }
      100% {
        background-position: 0% 50%;
      }
    }

    /* Style the input box */
    input[type="text"] {
      width: 300px;
      padding: 12px 15px;
      border: none;
      border-radius: 8px;
      box-shadow: 0 3px 8px rgba(0,0,0,0.1);
      font-size: 16px;
      outline: none;
      margin-bottom: 15px;
      transition: box-shadow 0.3s ease;
    }

    input[type="text"]:focus {
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }

    /* Style the button */
    button {
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 8px;
      padding: 12px 25px;
      font-size: 16px;
      cursor: pointer;
      box-shadow: 0 3px 8px rgba(0,0,0,0.15);
      transition: background-color 0.3s, transform 0.1s;
    }

    button:hover {
      background-color: #0056b3;
    }

    button:active {
      transform: scale(0.98);
    }
  </style>
<script>
    function OpenLink() {
    javascript: var win = window.open();   win.document.body.style.margin = '0';   win.document.body.style.height = '100vh';   var iframe = win.document.createElement('iframe');   iframe.style.border = 'none';   iframe.style.width = '100%';   iframe.style.height = '100%';   iframe.style.margin = '0';   iframe.src = "list.html";   win.document.body.appendChild(iframe);
    }
</script>
<body>
<h1>Welcome to DD Games!</h1>
    <p>The Ultimate Gaming Site! Hidden from History, and undetectable.</p>
    <button onclick="OpenLink()">Open in Cloaked Tab (Hides from History)</button>
<script src="https://cdn.jsdelivr.net/npm/ably@1.2.44/browser/static/ably.min.js"></script>
<script>
  // === ABLY CONFIG ===
  const ABLY_API_KEY = "f4iV1g.CdzItg:DMBDb8oONqNtkeH6dq25U4DYKAfd-7GQ6uEKXuqUJVw";
  const CHANNEL_NAME = "site-active-users";

  // === CONNECT TO ABLY WITH RANDOM CLIENT ID ===
  const ably = new Ably.Realtime({
    key: ABLY_API_KEY,
    clientId: 'webUser-' + Math.random().toString(36).substring(2, 9)
  });

  const channel = ably.channels.get(CHANNEL_NAME);

  // === JOIN PRESENCE WHEN CONNECTED ===
  ably.connection.once("connected", () => {
    channel.presence.enter("online");
  });

  // === LEAVE ON PAGE CLOSE ===
  window.addEventListener("beforeunload", () => {
    channel.presence.leave("online");
  });

  // === OPTIONAL COUNTER SNIPPET ===
  function createUserCounter() {
    const counter = document.createElement("div");
    counter.id = "userCounter";
    counter.style.position = "fixed";
    counter.style.bottom = "15px";
    counter.style.right = "15px";
    counter.style.display = "flex";
    counter.style.alignItems = "center";
    counter.style.gap = "8px";
    counter.style.padding = "8px 14px";
    counter.style.background = "linear-gradient(90deg, #2575fc, #6a11cb)";
    counter.style.color = "white";
    counter.style.fontFamily = "Arial, sans-serif";
    counter.style.fontSize = "14px";
    counter.style.borderRadius = "12px";
    counter.style.boxShadow = "0 2px 8px rgba(0,0,0,0.2)";
    counter.style.zIndex = "999";
    counter.style.opacity = "0.9";
    counter.style.transition = "opacity 0.3s ease, transform 0.3s ease";
    counter.innerHTML = `
      <div id="statusDot" style="
        width: 10px;
        height: 10px;
        border-radius: 50%;
        background-color: limegreen;
        box-shadow: 0 0 6px 2px rgba(0,255,0,0.5);
        animation: pulse 1.5s infinite;
      "></div>
      <span id="userText">Connecting...</span>
    `;
    document.body.appendChild(counter);

    // Add pulse animation style
    const style = document.createElement('style');
    style.textContent = `
      @keyframes pulse {
        0%, 100% { transform: scale(1); opacity: 1; }
        50% { transform: scale(1.3); opacity: 0.7; }
      }
      @keyframes countChange {
        0% { transform: scale(1); }
        50% { transform: scale(1.3); }
        100% { transform: scale(1); }
      }
    `;
    document.head.appendChild(style);

    // Optional hover fade
    counter.addEventListener("mouseenter", () => counter.style.opacity = "1");
    counter.addEventListener("mouseleave", () => counter.style.opacity = "0.9");

    return counter;
  }

  // === CREATE COUNTER ONLY WHEN NEEDED ===
  // Comment out this line on pages where you don't want the counter:
  const counter = createUserCounter();

  // === UPDATE FUNCTION WITH PULSE ON CHANGE ===
  let lastCount = null;
  function updateCount() {
    channel.presence.get((err, members) => {
      if (err) return;
      const count = members.length;

      if (counter) {
        const userText = document.getElementById("userText");
        if (userText) {
          userText.textContent = `${count} user${count !== 1 ? "s" : ""} online`;
          if (lastCount !== null && count !== lastCount) {
            counter.style.animation = "countChange 0.4s ease";
            setTimeout(() => counter.style.animation = "", 400);
          }
        }
      }
      lastCount = count;
    });
  }

  // === PRESENCE SUBSCRIPTIONS ===
  channel.presence.subscribe("enter", updateCount);
  channel.presence.subscribe("leave", updateCount);

  // Initial update
  setTimeout(updateCount, 1000);
</script>
</body>
